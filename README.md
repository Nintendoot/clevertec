# Тестовое задание Clevertec(Tereshkov Oleg)

RESTful web-service, реализующей функционал для работы с системой управления новостями.

### Реализация

- В качестве сборщика Использован Gradle;
- В приложение существует возможность выбора Spring профиля(test,prod):

  @Profile ('test')
  Использует внутреннюю базу данных H2 и автоматически заполняет ее 20-ю новостями каждая из которых имеет 10
  комментариев

url: jdbc:h2:mem:testdb username: sa password:
@Profile ('test')
Использует внешнюю базу данных PostgreSQL.

url: jdbc:postgresql://127.0.0.1:5433/testclevertec username: postgres password: 1234

Переключение между профилями осуществляется через **application.yml**

```yml
spring:
profiles:
active: test
```
- Натройки проекта содержатся в .yml файлах;
- Сущности веб интерфейса автоматически создаются при сборке проекта(.proto файл).

### API

### Новости:

Веб-сервис запускается на `http://localhost:8080` и поддерживает запросы по следующим _URL_:

* `.../news - POST
  Создание новости с валидацией данных. При удачном запросе вернется CREATED,прм неудачном NOT_CREATED и информацию по валидации.
  

* `.../news/{id} - PUT
  Обновление новости с валидацией данных. При удачном запросе вернется UPDATE,прм неудачном BAD и информацию по валидации.
  

* `.../news/{id} - DELETE
  Удаление новости. При удачном запросе вернется DELETE.


* `.../news/all(?page=0&size=20) - GET
 Все новости с пагинацией(page является номером страницы, а size соответственно количество элементов). Если не указывать default 5 новостей.


* `.../news/id(?page=0&size=20) - GET
  Конкретная новость с пагинацией комментариев(page является номером страницы, а size соответственно количество элементов). Если не указывать будут показаны все комментарии.


* `.../news(?page=0&size=20) - GET
  Список новостей с пагинацией(page является номером страницы, а size соответственно количество элементов). Если не указывать default 10 новостей.

  
* `.../news/search?keyword=word- GET
  Fulltext поиск по новостям(text,title,date).

### Комментарии:

* `.../comment - POST
  Создание комментария с валидацией данных. При удачном запросе вернется CREATED,прм неудачном NOT_CREATED и информацию по валидации.


* `.../comment/{id} - PUT
  Обновление комментария с валидацией данных. При удачном запросе вернется UPDATE,прм неудачном BAD и информацию по валидации.


* `.../comment/{id} - DELETE
  Удаление комментария. При удачном запросе вернется DELETE.


* `.../comment/all(?page=0&size=20) - GET
  Все комментарии с пагинацией(page является номером страницы, а size соответственно количество элементов). Если не указывать default 5 новостей.


* `.../news/id(?page=0&size=20) - GET
  Конкретный комментарий.


* `.../news/search?keyword=word- GET
  Fulltext поиск по комментариям(text,username,date).
  
